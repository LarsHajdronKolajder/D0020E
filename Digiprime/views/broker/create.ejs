<% layout('layouts/boilerplate') %>

<div class="row">
  <h1>Request Broker Agreement</h1>

  <form
    class="mt-3"
    method="POST"
    action="<%= baseUrl %>/profile/<%= otherUsername %>/agreement"
  >
    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        id="representant"
        name="representant"
        placeholder="Representant"
        value="<%= broker.username %>"
        required
        disabled
      />
      <label for="representant">Representant</label>
      <div id="representantHelpBlock" class="form-text px-1">
        The broker in the agreement.
      </div>
    </div>

    <div class="form-floating mb-3">
      <input
        type="text"
        class="form-control"
        id="represented"
        name="represented"
        placeholder="Represented"
        value="<%= user.username %>"
        required
        disabled
      />
      <label for="represented">Represented</label>
      <div id="representedHelpBlock" class="form-text px-1">
        The represented user in the agreement.
      </div>
    </div>

    <div class="form-floating mb-3">
      <input
        type="datetime-local"
        class="form-control"
        id="endDate"
        name="endDate"
        placeholder="Closing Time"
        required
      />
      <label for="endDate">End date</label>
      <div id="endDateHelpBlock" class="form-text px-1">
        Date and time when this agreement should expire.
      </div>
    </div>

    <div class="form form-text mb-3">
      <label>Contract</label>
      <%- include('../partials/contract-select-id', { contracts }) %>
      <div id="contractHelpBlock" class="form-text px-1">
        Contract details between the representant and the represented
      </div>
    </div>

    <button type="submit" class="btn btn-primary">Request</button>
  </form>
</div>
